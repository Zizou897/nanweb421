{% load static %}

<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- The above 4 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <!-- Title  -->
    <title>Nan News 4.21</title>
    <!-- bootstrap css slide  -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
    
    <!-- Favicon  -->
    <link rel="icon" href="{% static 'assets/img/logo-nan.png'%}">

    <!-- Core Style CSS -->
    <link rel="stylesheet" href="{% static 'assets/css/core-style2.css' %}">
    <link rel="stylesheet" href="{% static 'assets/style.css' %}">
    <link rel="stylesheet" href="{% static 'assets/footer.css' %}">
    <!-- Responsive CSS -->
    <link href="{% static 'assets/css/responsive.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous">
    <link rel="stylesheet" href={% static 'assets/css/owl.carousel.css' %}>
    <link rel="stylesheet" href={% static 'assets/owlcarousel/css/owl.carousel.min.css' %}>
    <link rel="stylesheet" href={% static 'assets/owlcarousel/css/owl.theme.default.min.css' %}>
</head>

<body >
<div>
    <!-- Header Area Start -->
    <header class="header-area">
        <!-- Middle Header Area -->
        <div class="middle-header">
            <div class="container h-100">
                <div class="row h-100 align-items-center">
                    <div class="col-12 h-100 logo">
                        <div>
                            <a href="{% url 'index' %}"><img src="{% static 'assets/img/logo-nan.png'%}" class="logo-img" alt="logo"></a>
                        </div>

                        <div>
                            <a href="{% url 'index' %}" class="logo-text"><span>NaN</span>News</a>
                        </div>
                    </div>
                    {% comment %} <div class="col-6 h-100 pt-4 logo-text">
                        <a href="{% url 'index' %}"><span>NaN</span>News</a>
                    </div> {% endcomment %}

                </div>
            </div>
        </div>
    </header>
    <!-- Bottom Header Area -->
        <div class="bottom-header">
            <div class="container h-100">
                <div class="row h-100 align-items-center">
                    <div class="col-12">
                        <div class="main-menu">
                            <nav class="navbar navbar-expand-lg">
                                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#gazetteMenu" aria-controls="gazetteMenu" aria-expanded="false" aria-label="Toggle navigation"><i class="fa fa-bars"></i> Menu</button>
                                <div class="collapse navbar-collapse" id="gazetteMenu">
                                    <ul id="data" class="navbar-nav mr-auto">
                                        <li class="nav-item {% if accueil %} active {% endif %}">
                                            <a class="nav-link" href="{% url 'index' %}">Accueil <span class="sr-only">(current)</span></a>
                                        </li>
                                        <li v-for="(cat, index) in categorie.slice(0,5)" class="nav-item" :class="{active: cat.slug ==='{{slug}}' }">
                                            <a  class="nav-link" :href=" '/catagory/'+ cat.slug + '/' ">%{cat.name}</a>
                                        </li>
                                        <li class="nav-item dropdown">
                                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Autres</a>
                                            <div class="dropdown-menu mb-3" aria-labelledby="navbarDropdown">
                                                <a  v-for="(cati, index) in categorie.slice(6,12)" class="dropdown-item" :class="{active: cati.slug ==='{{slug}}' }" :href=" '/catagory/'+ cati.slug + '/' ">%{cati.name}</a>
                                            </div>
                                        </li>                          
                                    </ul>
                                    <ul class="navbar-nav mr-auto personnal-flex">
                                        <li class="nav-item personal-link">
                                            <a class="nav-link personal" href="{% url 'about' %}">A propos</a>
                                        </li>
                                        <li class="nav-item personal-link">
                                            <a class="nav-link personal" href="{% url 'contact' %}">Contact</a>
                                        </li>
                                        
                                    </ul>
                                    <!-- Search Form -->
                                    <div class="header-search-form mr-auto">
                                        <form method="GET" action="{% url 'search' %}">
                                            <input type="search" placeholder="Saisissez votre mot-clé puis appuyez sur Entrée..." id="search" name="q">
                                            <input class="d-none" type="submit" value="submit">
                                        </form>
                                    </div>
                                    <!-- Search btn -->
                                    <div id="searchbtn">
                                        <i class="fa fa-search" aria-hidden="true"></i>
                                    </div>
                                </div>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    <!-- Header Area End -->
    <main id="content-vue">

        {% block content %}

        {% endblock content %}
    </main>

    <!-- Footer Area Start -->
    <!-- footer /*********************************************/ -->
            <footer class="bg_indigo-iua " style="background:#292e5a">
                <section class="container-fluid footer-block ">
                    <div class="row">
                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-3 mb-4">
                            <div class="mb-4">
                                <img src="{% static 'assets/img/logo-nan.png' %}" class="img-fluid" alt="" style="max-height: 100px;border-radius: 5px;"/>
                            <!-- <img src="ressources/images/iua.png" class="img-fluid" alt=""> -->
                        </div>
                            <ul class="footer-block_group1">
                                <li class="mg cl_blue-iua"><a>NaN News</a></li>
                                
                                <li class="mg cl_yellow"></li>
                            </ul>
                            <!-- <hr class="horizontal-bar"> -->
                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-3 mb-4 foot-mgtop">
                            <h5>Plus d'actualités</h5>
                            <hr class="horizontal-bar">
                            <ul id="plusActualite" class="pdt-20">
                                <li v-for="(cat, index) in categorie.slice(15,20)" class="mg"><a :href=" '/catagory/'+ cat.slug + '/' ">%{cat.name}</a></li>
                                {% comment %} <li class="mg"><a :href=" '/catagory/'+ cat.slug + '/' ">DEVELOPPEMENT DURABLE</a></li>
                                <li class="mg"><a href="">CLIMAT ET ENVIRONNEMENT</a></li>
                                <li class="mg"><a href="">FEMMES</a></li>
                                <li class="mg"><a href="">AIDE HUMANITAIRE</a></li> {% endcomment %}
                            </ul>
                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-3 mb-4 foot-mgtop">
                            <h5>NOS SOURCES</h5>
                            <hr class="horizontal-bar">
                            <ul class="pdt-20">
                                
                                <li class="mg"><a href="">JEUNES AFRIQUE</a></li>
                                <li class="mg"><a href="">ONU</a></li>
                                <li class="mg"><a href="">LEMONDE</a></li>
                                <li class="mg"><a href="">FRANCE24</a></li>
                            </ul>
                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-3 mb-4 foot-mgtop">
                            <h5>nous suivre:</h5>
                            <hr class="horizontal-bar">
                            <ul class="foot-social_media">
                                <li><a href="http://lnnk.in/aFfT" class="social"><i class="fab fa-facebook" ></i></a></li>
                                <li><a href="http://lnnk.in/f8bQ" class="social"><i class="fab fa-linkedin-square" ></i></a></li>
                                <li><a href="#" class="social"><i class="fab fa-youtube"></i></a></li>
                                
                            </ul>
                        </div>
                        
                    </div>
                
                </section>
            <div class="col-md-12 mb-3">
                <hr style="background:#858BE9">
            </div>
            <div class="col-md-12 text-center">
                <p style="color:#939fb6a8">NaN News</p>
                
            </div>
            </footer>
    <!-- Footer Area End -->

    <!-- jQuery (Necessary for All JavaScript Plugins) -->
    <script src="{% static 'assets/js/jquery/jquery-2.2.4.min.js' %}"></script>
    <!-- Popper js -->
    <script src="{% static 'assets/js/popper.min.js' %}"></script>
    <!-- Bootstrap js -->
    <script src="{% static 'assets/js/bootstrap.min.js' %}"></script>
    <!-- Plugins js -->
    <script src="{% static 'assets/js/plugins.js' %}"></script>
    <!-- Active js -->
    <script src="{% static 'assets/js/active.js' %}"></script>
    
    <script src='http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.5/jquery-ui.min.js'></script>


        <!-- Google Maps js -->
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/he/1.2.0/he.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <script src="{% static 'assets/js/axios.js' %}"></script>
    {% comment %} <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js" integrity="sha512-bZS47S7sPOxkjU/4Bt0zrhEtWx0y0CRkhEp8IckzK+ltifIIE9EMIMTuT/mEzoIMewUINruDBIR/jJnbguonqQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> {% endcomment %}
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

     <!-- slider -->
    <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js'></script>
    <script  src="{% static 'assets/js/script.js' %}"></script>
    <script src={% static 'assets/owlcarousel/js/owl.carousel.min.js' %}></script>
    <script src={% static 'assets/js/main.js' %}></script>
{% comment %} 
    <script>
let compteur = 0;
let slideCompt = 0;
let next = document.querySelector('#nav-gauche');
let prev = document.querySelector('#nav-droite');

next.addEventListener('click', slideNext);

window.onload = () => {
    timer = setInterval(slideNext, 3000)
}

function slideNext() {
     compteur++
     if(slideCompt === 6) slideCompt = 0;
     let slideWidth = (33.3 * window.innerWidth)/100;
     let decal = -slideWidth * compteur
     document.querySelector('.elements').style.transform = ` translateX(${decal}px)`
     let slides = 
     document.querySelector('.elements').innerHTML += calc(slides[slideCompt])
     slideCompt++;
        // elements.removeChild(elements.children[0]);
}

const calc = (data) => {
    return '<div  class="section-block element"  :style="{backgroundImage: url(${data.url}",  backgroundRepeat: call, backgroundSize: cover, backgroundPosition:place, width: percent, overflow: overflow, filter: filtre, }">
                    <!-- Single Blog Post Content -->
                    <div class="title-section">
                        <div class="tags">
                            <a href=""></a>
                        </div>
                        <h3><a :href="'/detail/' + art.slug + '/' " class="font-pt">%{$options.filters.truncate_data(art.title,40)}</a></h3>
                        <div class="date">
                            <a href="#">%{art.datePublication}</a>
                        </div>
                    </div>
                </div> '
}

    </script> {% endcomment %}

    {% block scripts %}
        
    {% endblock scripts %}


{% comment %} Email and contact confirm {% endcomment %}

    {% block vuejs %}
        
    {% endblock vuejs %}
{% comment %} ---------------------------- {% endcomment %}



{% comment %}  bolck for detail {% endcomment %}

    {% block detail %}
        
    {% endblock detail %}
{% comment %} ---------------------------- {% endcomment %}

{% comment %}  bolck for category article {% endcomment %}
    {% block allCategorie %}
        
    {% endblock allCategorie %}

{% comment %} ---------------------------- {% endcomment %}


{% comment %}  bolck for search {% endcomment %}
{% block search %}

{% endblock search %}

{% comment %} ---------------------------- {% endcomment %}


{% block contact %}
{% endblock contact %}

{% comment %} Diferents category in menu {% endcomment %}
    <script>
        new Vue({
            el: "#data",
            data:{
                categorie: []
            },
            delimiters: ['%{', '}'],
            mounted(){
                axios.post("https://nannews.herokuapp.com/graphql", {
                    query: `
                        {
                        category{
                            id
                            name
                            slug
                        },
                        
                    }`
                    }, 
                    {
                        headers: {
                            'Content-Type': 'application/json'
                        }
                    }
                    ).then((response)=>{
                        console.log(response)
                        this.categorie = response.data.data?.category
                        setTimeout(this.refresh_reload, 1500);
    
                    })
            }
    
        })

        new Vue({
            el: "#plusActualite",
            data:{
                categorie: []
            },
            delimiters: ['%{', '}'],
            mounted(){
                axios.post("https://nannews.herokuapp.com/graphql", {
                    query: `
                        {
                        category{
                            id
                            name
                            slug
                        },
                        
                    }`
                    }, 
                    {
                        headers: {
                            'Content-Type': 'application/json'
                        }
                    }
                    ).then((response)=>{
                        console.log(response)
                        this.categorie = response.data.data?.category
                        setTimeout(this.refresh_reload, 1500);
    
                    })
            }
    
        })

    </script>
{% comment %} ---------------------------- {% endcomment %}

</div>
</body>

</html>